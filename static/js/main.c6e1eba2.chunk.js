(this.webpackJsonpproj=this.webpackJsonpproj||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){},86:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(18),r=a.n(n),i=(a(65),a(66),a(29)),s=a.n(i),o=a(26),l=a(39),j=a(4),b=a(27),d=a(40),u=a.n(d),O=(a(86),a(43)),h=a(59),f=a(20),v=a(103),x=a(104),m=a(1);function g(){return Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{bg:"dark",variant:"dark",children:Object(m.jsxs)("div",{class:"navigationBar",children:[Object(m.jsx)(v.a.Brand,{children:Object(m.jsx)(f.b,{to:{pathname:"/all-banks"},children:"All Banks"})}),Object(m.jsx)(x.a,{className:"me-auto",children:Object(m.jsx)(x.a.Link,{children:Object(m.jsx)(f.b,{to:{pathname:"/favourites"},children:"Favourites"})})})]})})})}var p=9e5;function y(e){var t,a,n,r,i={fontSize:"0.8rem",fontWeight:"bold",lineHeight:"1.1"},d=Object(c.useState)({banks:void 0,currPage:1,limit:10,limitInput:10,tRows:0,error:void 0,city:null,category:null,fav:[],tableData:[]}),v=Object(b.a)(d,2),x=v[0],y=v[1],k=Object(c.useState)(void 0),I=Object(b.a)(k,2),S=I[0],N=I[1],w=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==x.city){e.next=6;break}return y(Object(j.a)(Object(j.a)({},x),{},{error:"Please select a state"})),setTimeout((function(){y(Object(j.a)(Object(j.a)({},x),{},{error:void 0}))}),2e3),e.abrupt("return");case 6:if(null!==x.category||""===S){e.next=10;break}return y(Object(j.a)(Object(j.a)({},x),{},{error:"Please select a category"})),setTimeout((function(){y(Object(j.a)(Object(j.a)({},x),{},{error:void 0}))}),2e3),e.abrupt("return");case 10:if((t=JSON.parse(localStorage.getItem("data")))[x.city]){e.next=21;break}return e.next=14,u.a.get("https://vast-shore-74260.herokuapp.com/banks?city=".concat(x.city));case 14:a=e.sent,c=JSON.parse(localStorage.getItem("data")),c=Object(j.a)(Object(j.a)({},c),{},Object(o.a)({},x.city,{stuff:a.data,exp:(new Date).getTime()+p}));try{localStorage.setItem("data",JSON.stringify(c))}catch(n){console.log(n)}a=a.data,e.next=22;break;case 21:a=t[x.city].stuff;case 22:if(""===S){e.next=27;break}try{a=a.filter((function(e){return e[x.category].toLowerCase().includes(S?S.toLowerCase():S)}))}catch(n){console.log(n)}if(0!==a.length){e.next=27;break}return y(Object(j.a)(Object(j.a)({},x),{},{banks:[]})),e.abrupt("return");case 27:y(Object(j.a)(Object(j.a)({},x),{},{tRows:a.length})),y(Object(j.a)(Object(j.a)({},x),{},{banks:a}));case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(void 0!==S){var e=setTimeout((function(){w()}),800);return function(){return clearTimeout(e)}}}),[S]),Object(c.useEffect)((function(){if(void 0!==x.limitInput){var e=setTimeout((function(){void 0!==x.limitInput&&""!==x.limitInput&&0!==x.limitInput?y(Object(j.a)(Object(j.a)({},x),{},{limit:x.limitInput})):y(Object(j.a)(Object(j.a)({},x),{},{limit:10}))}),1e3);return function(){return clearTimeout(e)}}}),[x.limitInput]),Object(c.useEffect)(Object(l.a)(s.a.mark((function e(){var t,a,c,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=JSON.parse(localStorage.getItem("data")))(c=t[a].exp)&&c<=Date.now()&&delete t[a];return n=null===x.city?"MUMBAI":x.city,e.next=5,u.a.get("https://vast-shore-74260.herokuapp.com/banks?city=".concat(n));case 5:r=e.sent,t=Object(j.a)(Object(j.a)({},t),{},Object(o.a)({},n,{stuff:r.data,exp:(new Date).getTime()+p})),y(Object(j.a)(Object(j.a)({},x),{},{banks:r.data,tRows:r.data.length}));try{localStorage.setItem("data",JSON.stringify(t))}catch(i){console.log(i)}case 9:case"end":return e.stop()}}),e)}))),[x.city]),Object(c.useEffect)((function(){y(Object(j.a)(Object(j.a)({},x),{},{currPage:1}))}),[e.location.pathname]);var P=x.banks,B=x.currPage,T=x.limit,C=P;if("/favourites"===e.location.pathname){var J,D=JSON.parse(localStorage.getItem("fav"));C=void 0===D?[]:null===(J=C)||void 0===J?void 0:J.filter((function(e){return D.includes(e.ifsc)}))}for(var _=Math.ceil((null===(t=C)||void 0===t?void 0:t.length)/T),A=[],F=0;F<_;F++)A.push(F+1);var M=(B-1)*T,E=Math.min(M+T,null===(a=C)||void 0===a?void 0:a.length),K=null===(n=C)||void 0===n?void 0:n.length;return C=null===(r=C)||void 0===r?void 0:r.slice(M,E),Object(m.jsx)(m.Fragment,{children:x.error?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:x.error})}):void 0===x.banks?Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"center",children:Object(m.jsx)("div",{className:"spinner-border text-danger",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):Object(m.jsxs)("div",{children:[Object(m.jsx)(g,{}),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsxs)(O.a,{onSelect:function(e){y(Object(j.a)(Object(j.a)({},x),{},{city:e,currPage:1})),N("")},id:"dropdown-variants-Danger",variant:"danger",title:null===x.city?"Select City":"".concat(x.city),children:[Object(m.jsx)(h.a.Item,{eventKey:"DELHI",children:"Delhi"}),Object(m.jsx)(h.a.Item,{eventKey:"MUMBAI",children:"Mumbai"}),Object(m.jsx)(h.a.Item,{eventKey:"BANGALORE",children:"Bangalore"}),Object(m.jsx)(h.a.Item,{eventKey:"HARYANA",children:"Haryana"}),Object(m.jsx)(h.a.Item,{eventKey:"HYDERABAD",children:"Hyderabad"})]},"Danger"),Object(m.jsxs)(O.a,{id:"dropdown-variants-Danger",variant:"danger",onSelect:function(e){N(""),y(Object(j.a)(Object(j.a)({},x),{},{category:e}))},title:null===x.category?"Select Category":"".concat(x.category),children:[Object(m.jsx)(h.a.Item,{eventKey:"ifsc",children:"IFSC"}),Object(m.jsx)(h.a.Item,{eventKey:"branch",children:"Branch"}),Object(m.jsx)(h.a.Item,{eventKey:"bank_name",children:"Bank_name"})]},"Danger"),Object(m.jsx)("input",{type:"search",value:S,onChange:function(e){var t=e.target.value;N(t)}})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-10",children:[Object(m.jsx)("div",{children:Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"Bank"}),Object(m.jsx)("th",{scope:"col",children:"IFSC"}),Object(m.jsx)("th",{scope:"col",children:"Branch"}),Object(m.jsx)("th",{scope:"col",children:"Bank Id"}),Object(m.jsx)("th",{scope:"col",children:"Address"}),Object(m.jsx)("th",{})]})}),Object(m.jsx)("tbody",{children:C.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:i,children:Object(m.jsxs)(f.b,{to:{pathname:"/bank-details/".concat(e.ifsc),aboutProps:{name:e.bank_name,branch:e.branch,bank_id:e.bank_id,address:e.address,ifsc:e.ifsc}},children:[" ",e.bank_name]})}),Object(m.jsx)("td",{style:i,children:e.ifsc}),Object(m.jsx)("td",{style:i,children:e.branch}),Object(m.jsx)("td",{style:i,children:e.bank_id}),Object(m.jsx)("td",{style:i,children:e.address}),Object(m.jsx)("td",{children:Object(m.jsx)("span",{class:"material-icons-outlined",onClick:function(t){var a=JSON.parse(localStorage.getItem("fav"));void 0!==a&&a.includes(e.ifsc)?t.currentTarget.innerText="favorite_border":t.currentTarget.innerText="favorite",function(e){if(e.fav){e.fav=!1;var t=JSON.parse(localStorage.getItem("fav")).filter((function(t){return t!==e.ifsc}));y(Object(j.a)(Object(j.a)({},x),{},{fav:t})),localStorage.setItem("fav",JSON.stringify(t))}else{e.fav=!0;var a=JSON.parse(localStorage.getItem("fav"));void 0===a&&(a=[]),a.push(e.ifsc),y(Object(j.a)(Object(j.a)({},x),{},{fav:a})),localStorage.setItem("fav",JSON.stringify(a))}}(e)},children:void 0!==JSON.parse(localStorage.getItem("fav"))&&JSON.parse(localStorage.getItem("fav")).includes(e.ifsc)?"favorite":"favorite_border"})})]},e.ifsc)}))})]})}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsxs)("h5",{children:["Rows per page: ",Object(m.jsx)("input",{min:"1",max:"100",class:"limitInput",onChange:function(e){var t=e.target,a=t.value,c=t.min,n=t.max;a.length>0&&(a=Math.max(Number(c),Math.min(Number(n),Number(a)))),y(Object(j.a)(Object(j.a)({},x),{},{limitInput:a}))},type:"number",value:x.limitInput})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("i",{onClick:function(){if(x.currPage<=1)return y(Object(j.a)(Object(j.a)({},x),{},{error:"Pages cannot be less than 1"})),void setTimeout((function(){y(Object(j.a)(Object(j.a)({},x),{},{error:void 0}))}),2e3);y(Object(j.a)(Object(j.a)({},x),{},{currPage:B-1}))},className:"fa fa-chevron-left","aria-hidden":"true"}),"   ",M+1,"-",E," of ",K,"   ",Object(m.jsx)("i",{onClick:function(){return function(e){var t=Math.ceil(e/T);if(x.currPage+1>t)return y(Object(j.a)(Object(j.a)({},x),{},{error:"No more pages to show"})),void setTimeout((function(){y(Object(j.a)(Object(j.a)({},x),{},{error:void 0}))}),2e3);y(Object(j.a)(Object(j.a)({},x),{},{currPage:B+1}))}(K)},className:"fa fa-chevron-right","aria-hidden":"true"})]})]})]})})]})]})})}var k=a(58);a(96);function I(e){var t=Object(c.useState)({bank_name:e.location.aboutProps.name,branch:e.location.aboutProps.branch,bank_id:e.location.aboutProps.bank_id,address:e.location.aboutProps.address,ifsc:e.location.aboutProps.ifsc}),a=Object(b.a)(t,2),n=a[0];a[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:n.bank_name}),Object(m.jsx)("div",{class:"table",children:Object(m.jsx)(k.a,{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Bank-ID"}),Object(m.jsx)("td",{children:n.bank_id})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"IFSC"}),Object(m.jsx)("td",{children:n.ifsc})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Branch"}),Object(m.jsx)("td",{children:n.branch})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Address"}),Object(m.jsx)("td",{children:n.address})]})]})})})]})}var S=a(8);var N=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(f.a,{children:Object(m.jsxs)(S.d,{children:[Object(m.jsx)(S.b,{path:"/favourites",exact:!0,component:y}),Object(m.jsx)(S.b,{exact:!0,path:"/",render:function(){return Object(m.jsx)(S.a,{to:"/all-banks"})}}),Object(m.jsx)(S.b,{path:"/all-banks",exact:!0,component:y}),Object(m.jsx)(S.b,{path:"/bank-details",component:I})]})})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};a(97);r.a.render(Object(m.jsx)(N,{}),document.getElementById("root")),w()}},[[98,1,2]]]);
//# sourceMappingURL=main.c6e1eba2.chunk.js.map